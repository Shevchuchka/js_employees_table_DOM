function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function t(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(t,n){if(t){if("string"==typeof t)return e(t,void 0);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e(t,void 0)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var n,r,a,o,u={number:"number",text:"text",salary:"salary"},c=document.querySelector("table"),i=document.querySelector("thead"),l=document.querySelector("tbody"),d=t(c.rows[0].children),s={name:"",position:"",office:"",age:0,salary:0},m=function(e){switch(e){case"Age":return u.number;case"Salary":return u.salary;default:return u.text}},p="",f="asc";i.addEventListener("click",function(e){var n=e.target.closest("th");if(f=n.textContent===p&&"asc"===f?"desc":"asc",p=n.textContent,n){var r=d.findIndex(function(e){return e.textContent===n.textContent}),a=t(l.cloneNode(!0).children).sort(function(e,t){var a=Array.from(e.children)[r].textContent,o=Array.from(t.children)[r].textContent;if(m(n.textContent)===u.salary){var c=function(e){return Number(e.slice(1).split(",").join(""))};return c(a)-c(o)}return m(n.textContent)===u.number?Number(a)-Number(o):m(n.textContent)===u.text?a.localeCompare(o):void 0});return l.textContent="",function(e){e.forEach(function(e){l.appendChild(e)})}("asc"===f?a:a.reverse())}}),l.addEventListener("click",function(e){var t=e.target.closest("tr"),n=document.querySelector(".active");n&&n.classList.remove("active"),t&&t.setAttribute("class","active")});var v=function(e){var t=document.createElement("div");t.setAttribute("data-qa","notification"),t.setAttribute("class","notification error");var n=document.createElement("h2");n.textContent="Error!";var r=document.createElement("p");r.textContent=e,t.append(n),t.append(r),document.body.append(t)},b=function(){var e=document.querySelector(".error");e&&e.remove();var t=document.createElement("div");t.setAttribute("data-qa","notification"),t.setAttribute("class","notification success");var n=document.createElement("h2");n.textContent="Success!";var r=document.createElement("p");r.textContent="New employee added with success!",t.append(n),t.append(r),document.body.append(t)},y=function(e){return"$"+String(e.toLocaleString("en-US"))},h=function(e){return e.trim().charAt(0).toUpperCase()+e.slice(1).toLowerCase()},C=function(){var e=document.querySelector("[data-qa='name']").value,t=document.querySelector("[data-qa='position']").value,n=document.querySelector("[data-qa='office']").value,r=Number(document.querySelector("[data-qa='age']").value),a=Number(document.querySelector("[data-qa='salary']").value);return e.trim().length<4?v("Name has less than 4 letters"):(s.name=h(e),t.trim().length<4)?v("Position has less than 4 letters"):(s.position=t,s.office=n,r<18||r>90)?v("Age is less than 18 or more than 90"):(s.age=r,s.salary=y(a),!0)},A=function(){var e=document.createElement("tr");if(C()){for(var t in s){var n=document.createElement("td");n.textContent=s[t],e.append(n)}l.append(e),x(),b()}},x=function(){t(document.querySelectorAll("input")).forEach(function(e){e.value=""}),t(document.querySelectorAll("select")).forEach(function(e){return e.value=e.children[0].value})},E=document.createElement("form");E.setAttribute("class","new-employee-form");var S=function(e,t){var n=document.createElement("label");n.textContent=e;var r=document.createElement("input");return r.setAttribute("type",t),r.setAttribute("name",e.toLowerCase()),r.setAttribute("data-qa",e.toLowerCase()),r.setAttribute("required",""),n.appendChild(r),n},q=document.createElement("button");q.setAttribute("type","submit"),q.textContent="Save to table",E.append(S("Name","text")),E.append(S("Position","text")),E.append((n="Office",r=document.createElement("label"),a=document.createElement("select"),r.textContent=n,a.setAttribute("name",n.toLowerCase()),a.setAttribute("data-qa",n.toLowerCase()),a.setAttribute("required",""),o=function(e){var t=document.createElement("option");return t.textContent=e,t.setAttribute("value",e),t},a.append(o("Tokyo")),a.append(o("Singapore")),a.append(o("London")),a.append(o("New York")),a.append(o("Edinburgh")),a.append(o("San Francisco")),r.appendChild(a),r)),E.append(S("Age","number")),E.append(S("Salary","number")),E.append(q),document.body.append(E),q.addEventListener("click",function(e){return e.preventDefault(),A()}),l.addEventListener("dblclick",function(e){e.preventDefault();var n=e.target.closest("td"),r=n.textContent,a="",o=m(d[t(n.parentElement.children).findIndex(function(e){return e===n})].textContent),c=o;"salary"===o&&(o="number",c="salary"),n.textContent="";var i=document.createElement("input");i.setAttribute("class","cell-input"),i.setAttribute("type",o),n.append(i),i.focus(),i.addEventListener("change",function(e){a=e.target.value,i.setAttribute("value",a)});var l=function(){i.remove();var e=""!==a?a:r;n.textContent=c===u.text?h(e):c===u.salary?y(e):c===u.number?Number(e):void 0};i.addEventListener("blur",function(){return l()}),i.addEventListener("keypress",function(e){"Enter"===e.key&&(e.preventDefault(),l())})});
//# sourceMappingURL=index.e8aaabc9.js.map
